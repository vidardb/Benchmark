-- Create VidarDB benchmark table --

DROP TABLE IF EXISTS LINEITEM;
DROP FOREIGN TABLE IF EXISTS LINEITEM;
DROP TYPE IF EXISTS ORDERKEY_LINENUMBER;  
DROP EXTENSION IF EXISTS kv_am;

CREATE EXTENSION kv_am;

CREATE TYPE ORDERKEY_LINENUMBER AS (
    L_ORDERKEY       INTEGER,
    L_LINENUMBER     INTEGER
);

CREATE TABLE LINEITEM (
    L_ORDERKEY       ORDERKEY_LINENUMBER,
    L_PARTKEY        INTEGER,
    L_SUPPKEY        INTEGER,
    L_QUANTITY       FLOAT,
    L_EXTENDEDPRICE  FLOAT,
    L_DISCOUNT       FLOAT,
    L_TAX            FLOAT,
    L_RETURNFLAG     CHAR(1),
    L_LINESTATUS     CHAR(1),
    L_SHIPDATE       DATE,
    L_COMMITDATE     DATE,
    L_RECEIPTDATE    DATE,
    L_SHIPINSTRUCT   TEXT,
    L_SHIPMODE       TEXT,
    L_COMMENT        TEXT
) USING kv_am;

-- Insert example --
-- INSERT INTO LINEITEM VALUES ((5086273,1),182032,4551,21,23394.63,0.02,0.07,'A','F','1992-12-07','1992-12-16','1992-12-18','TAKE BACK RETURN','RAIL','s. furiously special packages detect blithe');
-- SELECT * FROM LINEITEM;